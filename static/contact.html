<div class="contact-text">
  <h1>Contact Me</h1>

  <div id="no-forms">
    <label><em>Don't like forms? Contact me directly.</em></label>
    <div id="contact-info">
      <select id="info-selector" onchange="window.busy.contact_info()">
        <option value="Select">Select</option>
        <option value="Email">Email</option>
        <option value="Mastodon">Mastodon</option>
        <option value="Linkedin">Linkedin</option>
        <option value="Phone">Phone</option>
      </select>
      <div id="info-display"><p id="info-text"></p></div>
      <button id="copy-info" onclick="window.busy.contact_copy()">Copy</button>
    </div>
  </div>

  <h2>Contact Form</h2>
  <form id="contact-form" action="/contact-submitted" method="POST" onsubmit="window.busy.contact_submit()">

    <label for="fname">First Name</label>
    <input type="text" id="fname" name="firstname" placeholder="Your first name" required>

    <label for="lname">Last Name</label>
    <input type="text" id="lname" name="lastname" placeholder="Your last name" required>

    <label for="email">Email</label>
    <input type="email" id="email" name="email" placeholder="john@example.com" required>

    <label for="subject">Subject</label>
    <input 
      type="text" 
      id="subject" 
      name="subject" 
      placeholder="What are you writing about?" 
      required
    >

    <label for="message">Message</label>
    <textarea 
      id="message" 
      name="message" 
      placeholder="Write something!"
      required
    ></textarea>

    <label for="captcha-chars">Captcha (Enter the Characters Shown)</label>
    <div class="captcha">
      <div class="captcha-img">
        <div class="captcha-img-padding">
          <img id="captcha-png" src="/api/generate_captcha" alt="Captcha Image"/>
        </div>
      </div>
      <div class="captcha-controls">
        <input type="text" id="captcha-chars" name="captchachars" required></input>
        <div class="captcha-buttons" id="captcha-buttons">
          <button onclick="window.busy.captcha_submit(); return false">&#x2794;</button>
<!--           
          <button>
            <img src="/api/audio_icon.png?ver=lMLavbEqoEg" alt="Audio Icon">
          </button> 
-->
          <button onclick="window.busy.captcha_refresh(); return false">
            <img src="/api/refresh.png?ver=MLtQ6LtB3h4" alt="Refresh Icon">
          </button>
          <p id="try-again" hidden>Oops, try again!</p>
        </div>
        <p id="captcha-pass" class="captcha-pass" hidden>&#10003;</p>
      </div>
    </div>

    <input id="submit" class="submit" type="submit" value="Submit" hidden>
    <em id="contact-loading" class="contact-loading">Loading...</em>

  </form>
</div>

<style>

.contact-text {
  max-width: 80ch;
  margin: 0 auto 3em;
  padding: 0 1em;
}

#no-forms {
  margin: 0 auto;
  max-width: 42ch;
  text-align: center;
}

#contact-info {
  display: flex;
  margin-top: 6px;
  width: 100%;
}

#info-selector {
  flex: 0 0 10.5ch;
  margin: 0;
  padding: 0;
  text-align: center;
  border-radius: 1ch 0 0 1ch;
  height: 3em;
}

#info-display {
  flex: 1 1 22ch;
  background-color: #202020;
  height: 3em;
  display: flex;
  justify-content: center;
  align-items: center;
  page-break-inside: avoid;
  overflow: auto;
  white-space: nowrap;
  text-overflow: ellipsis;
}

#info-text {
  margin-left: 0.5ch;
  width: 100%;
}

#copy-info {
  flex: 0 0 6ch;
  background-color: #ff6e00;
  color: black;
  border: 0;
  border-radius: 0 1ch 1ch 0;
  height: 3em;
}

#copy-info:hover, #info-selector:hover {
  background-color: #0a9dff;
}

 /* Style inputs with type="text", select elements and textareas */
 input:not([type='submit']), select, textarea, .captcha {
  width: 100%; /* Full width */
  padding: 12px; /* Some padding */ 
  color: black;
  background-color: #ff6e00;
  border: 0;
  border-radius: 1ch; 
  box-sizing: border-box; /* Make sure that padding and width stays in place */
  margin-top: 6px; /* Add a top margin */
  margin-bottom: 16px; /* Bottom margin */
  resize: vertical /* Allow the user to vertically resize the textarea (not horizontally) */
}

::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
  color:white;
}

textarea {
  height: 100px;
  border-radius: 1ch 1ch 0;
}

label {
  color: #0a9dff;
}

/* Style the submit button with a specific background color etc */
input[type=submit] {
  background-color: #ff6e00;
  color: black;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.captcha {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5em;
  width: 100%;
  justify-content: space-between;
}

.captcha-img {
  flex: 1 1 200px;
}

.captcha-controls {
  flex: 1 1 200px;
}

.captcha-controls input {
  background-color: white;
  border-radius: 0.5ch;
  padding: 8px;
  margin: 0;
}

.captcha-controls .captcha-buttons {
  display: flex;
  flex-direction: row-reverse; 
  flex-wrap: wrap;
  justify-content: right;
}

.captcha-controls .captcha-buttons p {
  color: black;
  margin-right: 1em;
}

.captcha-controls .captcha-pass {
  font-size: 5em;
  text-align: center;
  margin: 0;
  color: #0a9dff;
}

.captcha-controls .captcha-buttons button {
  background-color: #0a9dff;
  color: black;
  min-width: 5ch;
  font-weight: bolder;
  padding: 0.7em;
  margin-top: 0.5em;
  margin-left: 0.5em;
  border-radius: 0.5em;
  border: 0;
}

.captcha-buttons button img {
  height: 16px; 
  width: 16px;
  position: relative;
  top: 0.1em;
}

b {
  color: black;
}

.captcha-controls label {
  color: white;
}

.captcha-img-padding {
  width: 100%;
  padding-top: 28.13%;
  position: relative;
  border-radius: 0.5ch;
  background-color: #909090;
}

.captcha-img-padding img {
  position: absolute;
  border-radius: 0.5ch;
  top: 0;
  left: 0;
  width: 100%;
}

/* When moving the mouse over the submit button, make it blue */
input[type=submit]:hover {
  background-color: #0a9dff;
}

.contact-loading {
  display: none;
}

.contact-loading.show {
  display: block;
}
</style>